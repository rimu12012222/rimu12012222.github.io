<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>スプラトゥーン チートコード</title>

    <meta property="og:title" content="spl23">
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://rimu12012222.github.io/spl23.github.io/"/>
    <meta property="og:image" content="image/ogp-image.png"/> <meta property="og:site_name" content="splatoon2 3 cheat-code"/>
    <meta property="og:description" content="デザインを昔あったたかはるさんのサイトに勝手に寄せさせてもらってます、感謝。"/>

    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="images/favicon.png"/>
    <link rel="apple-touch-icon" href="image/apple-touch-icon.png"/>
</head>
<body>

    <div class="container">
        <h1>スプラトゥーン チートコード</h1>

        <audio id="bgm" src="music/bgm.mp3" loop></audio>

        <h1>スプラトゥーン2</h1>
        <h2>・Testfire <a href="pchtxt/Testfire.pchtxt" target="_blank">ダウンロード</a></h2>
        <h2>・3.1.0 <a href="pchtxt/3.1.0.pchtxt" target="_blank">ダウンロード</a></h2>
        <h2>・5.5.1 <a href="pchtxt/5.5.1.pchtxt" target="_blank">ダウンロード</a></h2>

        <h1>スプラトゥーン3</h1>
        <h2>・World Premiere <a href="pchtxt/WorldPremire.pchtxt" target="_blank">ダウンロード</a></h2>
        <h2>・1.0.0 <a href="pchtxt/1.0.0.pchtxt" target="_blank">ダウンロード</a></h2>
        <h2>・9.3.0 <a href="pchtxt/9.3.0.pchtxt" target="_blank">ダウンロード</a></h2>

        <h2> Discord サーバー(立てるかは未定) <a href="https://discord.gg/madanaiyo" target="_blank">参加</a></h2>

        <h1>協力者などいろいろ</h1>
        <h2>・<a href="https://x.com/xv4dvr7?t=-zlaYxkZv2lSU3AOrePTRA&s=09" target="_blank">xxy73</a></h2>

    </div>

    <script>
        var audioPlayed = false; // 音楽が既に再生されたかを示すフラグ

        // 音楽再生を試みる関数
        function tryPlayAudio() {
            // まだ再生されていない場合のみ実行
            if (!audioPlayed) {
                console.log('Attempting to play audio...'); // 再生試行前にログ
                var audio = document.getElementById('bgm');
                audio.play().then(function() {
                    // 再生に成功した場合
                    audioPlayed = true; // フラグを立てる
                    console.log('Audio playback started successfully.'); // 再生成功時のログ
                    // 再生開始に成功したら、不要になったイベントリスナーを全て削除する
                    removeInteractionListeners();
                }).catch(function(error) {
                    // 自動再生がブロックされた場合などのエラー処理
                    console.log('Audio playback prevented or failed:', error); // エラー発生時のログ
                    // エラーが発生しても、audioPlayedはtrueにならないため、他のイベントでの再生を試みる可能性がある
                });
            } else {
                console.log('Audio already played or attempt in progress.'); // 既に再生済みまたは試行中の場合のログ
            }
        }

        // 音楽再生トリガーとなるイベントリスナーを削除する関数
        function removeInteractionListeners() {
            document.body.removeEventListener('click', handleInteraction);
            window.removeEventListener('scroll', handleInteraction);
            document.body.removeEventListener('touchstart', handleInteraction);
            document.body.removeEventListener('mousemove', handleInteraction);
            console.log('Interaction listeners removed.'); // リスナー削除時のログ
        }

        // 各インタラクションイベントが発生したときに呼び出される関数
        function handleInteraction(event) {
            console.log('Interaction detected:', event.type); // 発生したイベントのタイプをログ
            tryPlayAudio();
        }

        // ページ上の様々なユーザーインタラクションを検知するためのイベントリスナーを追加
        // これらのイベントのいずれかが最初に発生したときにhandleInteractionが実行される
        document.body.addEventListener('click', handleInteraction);
        window.addEventListener('scroll', handleInteraction); // スクロールイベントは window に対してリッスン
        document.body.addEventListener('touchstart', handleInteraction);
        document.body.addEventListener('mousemove', handleInteraction); // マウス移動イベント

        console.log('Interaction listeners added.'); // リスナー追加時のログ

    </script>

</body>
</html>